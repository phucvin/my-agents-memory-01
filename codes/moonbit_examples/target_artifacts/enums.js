const $1L = { hi: 0, lo: 1 };
const $2305843009213693952L = { hi: 536870912, lo: 0 };
const $5955668970331000884L = { hi: 1386662239, lo: -1067102156 };
const $1784059615882449851L = { hi: 415383748, lo: -1362422853 };
const $8982663654677661702L = { hi: 2091439360, lo: 1910491142 };
const $1380349269358112757L = { hi: 321387608, lo: -636522507 };
const $7286864317269821294L = { hi: 1696605309, lo: 894846830 };
const $2135987035920910082L = { hi: 497323236, lo: 1760020226 };
const $7005857020398200553L = { hi: 1631178199, lo: 1745020649 };
const $1652639921975621497L = { hi: 384785216, lo: -1023641735 };
const $_481418970354774919L = { hi: -112089089, lo: 1138658425 };
const $1278668206209430417L = { hi: 297713141, lo: 2024993681 };
const $8928596168509315048L = { hi: 2078850792, lo: -689350680 };
const $1978643211784836272L = { hi: 460688772, lo: -1884531536 };
const $_8371072500651252758L = { hi: -1949042199, lo: -1717296150 };
const $1530901034580419511L = { hi: 356440673, lo: 1081189303 };
const $597001226353042382L = { hi: 139000179, lo: -885070898 };
const $1184477304306571148L = { hi: 275782613, lo: 666146700 };
const $1527430471115325346L = { hi: 355632619, lo: -1175470174 };
const $1832889850782397517L = { hi: 426752923, lo: -1269975987 };
const $_5913534206540532074L = { hi: -1376851976, lo: 1812444822 };
const $1418129833677084982L = { hi: 330184081, lo: -172697290 };
const $5577825024675947042L = { hi: 1298688590, lo: -1357372894 };
const $2194449627517475473L = { hi: 510935119, lo: 1034607249 };
const $_7439769533505684065L = { hi: -1732206330, lo: -526467681 };
const $1697873161311732311L = { hi: 395316900, lo: -39337385 };
const $_8133250842069730034L = { hi: -1893670029, lo: 1900641550 };
const $1313665730009899186L = { hi: 305861637, lo: 1993875634 };
const $_5745727253942878843L = { hi: -1337781375, lo: 880033157 };
const $2032799256770390445L = { hi: 473297959, lo: 1601841581 };
const $0L = { hi: 0, lo: 0 };
const $1152921504606846976L = { hi: 268435456, lo: 0 };
const $1490116119384765625L = { hi: 346944695, lo: 839070905 };
const $1032610780636961552L = { hi: 240423432, lo: -1290085616 };
const $1925929944387235853L = { hi: 448415508, lo: -1786957811 };
const $7910200175544436838L = { hi: 1841736998, lo: 1301219430 };
const $1244603055572228341L = { hi: 289781730, lo: -2051041035 };
const $_1504838264676837686L = { hi: -350372462, lo: 1032165066 };
const $1608611746708759036L = { hi: 374534108, lo: 1612227068 };
const $_5421850118411349444L = { hi: -1262372853, lo: 581866044 };
const $2079081953128979843L = { hi: 484073989, lo: 1529716099 };
const $6607496772837067824L = { hi: 1538427726, lo: -1887548368 };
const $1343575221513417750L = { hi: 312825483, lo: -1621953514 };
const $_1113817083813899013L = { hi: -259330749, lo: 1988285691 };
const $1736530273035216783L = { hi: 404317461, lo: 838461327 };
const $_5409364890226003632L = { hi: -1259465910, lo: -644091568 };
const $2244412773384604712L = { hi: 522568070, lo: -1494201304 };
const $1605989338741628675L = { hi: 373923531, lo: 1891786499 };
const $1450417759929778918L = { hi: 337701700, lo: -1668791578 };
const $_8816519005292960336L = { hi: -2052755795, lo: 906519984 };
const $1874621017369538693L = { hi: 436469218, lo: 348844165 };
const $665883850346957067L = { hi: 155038165, lo: 2040105227 };
const $1211445438634777304L = { hi: 282061621, lo: 983030488 };
const $_3514853404985837908L = { hi: -818365581, lo: 1581201068 };
const $1565756531257009982L = { hi: 364556100, lo: -95262914 };
const $5L = { hi: 0, lo: 5 };
const $25L = { hi: 0, lo: 25 };
const $125L = { hi: 0, lo: 125 };
const $625L = { hi: 0, lo: 625 };
const $3125L = { hi: 0, lo: 3125 };
const $15625L = { hi: 0, lo: 15625 };
const $78125L = { hi: 0, lo: 78125 };
const $390625L = { hi: 0, lo: 390625 };
const $1953125L = { hi: 0, lo: 1953125 };
const $9765625L = { hi: 0, lo: 9765625 };
const $48828125L = { hi: 0, lo: 48828125 };
const $244140625L = { hi: 0, lo: 244140625 };
const $1220703125L = { hi: 0, lo: 1220703125 };
const $6103515625L = { hi: 1, lo: 1808548329 };
const $30517578125L = { hi: 7, lo: 452807053 };
const $152587890625L = { hi: 35, lo: -2030932031 };
const $762939453125L = { hi: 177, lo: -1564725563 };
const $3814697265625L = { hi: 888, lo: 766306777 };
const $19073486328125L = { hi: 4440, lo: -463433411 };
const $95367431640625L = { hi: 22204, lo: 1977800241 };
const $476837158203125L = { hi: 111022, lo: 1299066613 };
const $2384185791015625L = { hi: 555111, lo: -2094601527 };
const $11920928955078125L = { hi: 2775557, lo: -1883073043 };
const $59604644775390625L = { hi: 13877787, lo: -825430623 };
const $298023223876953125L = { hi: 69388939, lo: 167814181 };
function Shape$Circle(param0) {
  this._0 = param0;
}
Shape$Circle.prototype.$tag = 0;
function Shape$Rectangle(param0, param1) {
  this._0 = param0;
  this._1 = param1;
}
Shape$Rectangle.prototype.$tag = 1;
class $PanicError extends Error {}
function $panic() {
  throw new $PanicError();
}
function $make_array_len_and_init(a, b) {
  const arr = new Array(a);
  arr.fill(b);
  return arr;
}
function $bound_check(arr, index) {
  if (index < 0 || index >= arr.length) throw new Error("Index out of bounds");
}
function Result$Err$0$(param0) {
  this._0 = param0;
}
Result$Err$0$.prototype.$tag = 0;
function Result$Ok$0$(param0) {
  this._0 = param0;
}
Result$Ok$0$.prototype.$tag = 1;
const Error$moonbitlang$47$core$47$builtin$46$CreatingViewError$46$IndexOutOfBounds = { $tag: 1 };
const Error$moonbitlang$47$core$47$builtin$46$CreatingViewError$46$InvalidIndex = { $tag: 0 };
const moonbitlang$core$builtin$$uint64_to_string_js = (num, radix) => {
  return (BigInt(num.hi >>> 0) << 32n | BigInt(num.lo >>> 0)).toString(radix);
};
function $makebytes(a, b) {
  const arr = new Uint8Array(a);
  if (b !== 0) {
    arr.fill(b);
  }
  return arr;
}
const moonbitlang$core$builtin$$try_init_wasm_helper = function() {
  try {
    return new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0, 97, 115, 109, 1, 0, 0, 0, 1, 13, 2, 96, 0, 1, 127, 96, 4, 127, 127, 127, 127, 1, 127, 3, 7, 6, 0, 1, 1, 1, 1, 1, 6, 6, 1, 127, 1, 65, 0, 11, 7, 50, 6, 3, 109, 117, 108, 0, 1, 5, 100, 105, 118, 95, 115, 0, 2, 5, 100, 105, 118, 95, 117, 0, 3, 5, 114, 101, 109, 95, 115, 0, 4, 5, 114, 101, 109, 95, 117, 0, 5, 8, 103, 101, 116, 95, 104, 105, 103, 104, 0, 0, 10, 191, 1, 6, 4, 0, 35, 0, 11, 36, 1, 1, 126, 32, 0, 173, 32, 1, 173, 66, 32, 134, 132, 32, 2, 173, 32, 3, 173, 66, 32, 134, 132, 126, 34, 4, 66, 32, 135, 167, 36, 0, 32, 4, 167, 11, 36, 1, 1, 126, 32, 0, 173, 32, 1, 173, 66, 32, 134, 132, 32, 2, 173, 32, 3, 173, 66, 32, 134, 132, 127, 34, 4, 66, 32, 135, 167, 36, 0, 32, 4, 167, 11, 36, 1, 1, 126, 32, 0, 173, 32, 1, 173, 66, 32, 134, 132, 32, 2, 173, 32, 3, 173, 66, 32, 134, 132, 128, 34, 4, 66, 32, 135, 167, 36, 0, 32, 4, 167, 11, 36, 1, 1, 126, 32, 0, 173, 32, 1, 173, 66, 32, 134, 132, 32, 2, 173, 32, 3, 173, 66, 32, 134, 132, 129, 34, 4, 66, 32, 135, 167, 36, 0, 32, 4, 167, 11, 36, 1, 1, 126, 32, 0, 173, 32, 1, 173, 66, 32, 134, 132, 32, 2, 173, 32, 3, 173, 66, 32, 134, 132, 130, 34, 4, 66, 32, 135, 167, 36, 0, 32, 4, 167, 11])), {}).exports;
  } catch (e) {
    return undefined;
  }
};
const moonbitlang$core$builtin$$MyInt64$div_u_bigint = (a, b) => {
  const aVal = (BigInt(a.hi >>> 0) << 32n) | BigInt(a.lo >>> 0);
  const bVal = (BigInt(b.hi >>> 0) << 32n) | BigInt(b.lo >>> 0);
  const result = aVal / bVal;
  const lo = Number(result & 0xFFFFFFFFn);
  const hi = Number((result >> 32n) & 0xFFFFFFFFn);
  return { hi: hi | 0, lo: lo | 0 };
};
const moonbitlang$core$builtin$$MyInt64$mod_u_bigint = (a, b) => {
  const aVal = (BigInt(a.hi >>> 0) << 32n) | BigInt(a.lo >>> 0);
  const bVal = (BigInt(b.hi >>> 0) << 32n) | BigInt(b.lo >>> 0);
  const result = aVal % bVal;
  const lo = Number(result & 0xFFFFFFFFn);
  const hi = Number((result >> 32n) & 0xFFFFFFFFn);
  return { hi: hi | 0, lo: lo | 0 };
};
const moonbitlang$core$builtin$$MyInt64$compare_u = (a, b) => {
  const ahi = a.hi >>> 0;
  const bhi = b.hi >>> 0;
  if (ahi < bhi) {
    return -1;
  }
  if (ahi > bhi) {
    return 1;
  }
  const alo = a.lo >>> 0;
  const blo = b.lo >>> 0;
  if (alo < blo) {
    return -1;
  }
  if (alo > blo) {
    return 1;
  }
  return 0;
};
const moonbitlang$core$builtin$$MyInt64$reinterpret_double = function f(a) {
  let view = f._view;
  if (view === undefined) {
    view = f._view = new DataView(new ArrayBuffer(8));
  }
  view.setFloat64(0, a);
  const hi = view.getInt32(0);
  const lo = view.getInt32(4);
  return { hi, lo };
};
const $4294967295L = { hi: 0, lo: -1 };
const $10000000000000000L = { hi: 2328306, lo: 1874919424 };
const $1000000000000000L = { hi: 232830, lo: -1530494976 };
const $100000000000000L = { hi: 23283, lo: 276447232 };
const $10000000000000L = { hi: 2328, lo: 1316134912 };
const $1000000000000L = { hi: 232, lo: -727379968 };
const $100000000000L = { hi: 23, lo: 1215752192 };
const $10000000000L = { hi: 2, lo: 1410065408 };
const $1000000000L = { hi: 0, lo: 1000000000 };
const $100000000L = { hi: 0, lo: 100000000 };
const $10000000L = { hi: 0, lo: 10000000 };
const $1000000L = { hi: 0, lo: 1000000 };
const $100000L = { hi: 0, lo: 100000 };
const $10000L = { hi: 0, lo: 10000 };
const $1000L = { hi: 0, lo: 1000 };
const $100L = { hi: 0, lo: 100 };
const $10L = { hi: 0, lo: 10 };
const $4L = { hi: 0, lo: 4 };
const $2L = { hi: 0, lo: 2 };
const $$$64$moonbitlang$47$core$47$builtin$46$StringBuilder$36$as$36$64$moonbitlang$47$core$47$builtin$46$Logger = { method_0: moonbitlang$core$builtin$$Logger$write_string$0$, method_1: moonbitlang$core$builtin$$Logger$write_substring$1$, method_2: moonbitlang$core$builtin$$Logger$write_view$0$, method_3: moonbitlang$core$builtin$$Logger$write_char$0$ };
const moonbitlang$core$builtin$$parse$46$42$bind$124$5354 = ":";
const moonbitlang$core$builtin$$parse$46$42$bind$124$5393 = ":";
const moonbitlang$core$builtin$$parse$46$42$bind$124$5387 = "-";
const moonbitlang$core$builtin$$parse$46$42$bind$124$5374 = ":";
const moonbitlang$core$builtin$$parse$46$42$bind$124$5368 = ":";
const moonbitlang$core$builtin$$wasm_helper_cache = { tried: false, exports: undefined };
const moonbitlang$core$builtin$$output$46$42$bind$124$8198 = "/";
const moonbitlang$core$builtin$$output$46$42$bind$124$8192 = "/";
const moonbitlang$core$builtin$$boyer_moore_horspool_find$46$constr$47$28 = 0;
const moonbitlang$core$builtin$$brute_force_find$46$constr$47$42 = 0;
const moonbitlang$core$double$internal$ryu$$gDOUBLE_POW5_INV_SPLIT2 = [$1L, $2305843009213693952L, $5955668970331000884L, $1784059615882449851L, $8982663654677661702L, $1380349269358112757L, $7286864317269821294L, $2135987035920910082L, $7005857020398200553L, $1652639921975621497L, $_481418970354774919L, $1278668206209430417L, $8928596168509315048L, $1978643211784836272L, $_8371072500651252758L, $1530901034580419511L, $597001226353042382L, $1184477304306571148L, $1527430471115325346L, $1832889850782397517L, $_5913534206540532074L, $1418129833677084982L, $5577825024675947042L, $2194449627517475473L, $_7439769533505684065L, $1697873161311732311L, $_8133250842069730034L, $1313665730009899186L, $_5745727253942878843L, $2032799256770390445L];
const moonbitlang$core$double$internal$ryu$$gPOW5_INV_OFFSETS = [1414808916, 67458373, 268701696, 4195348, 1073807360, 1091917141, 1108, 65604, 1073741824, 1140850753, 1346716752, 1431634004, 1365595476, 1073758208, 16777217, 66816, 1364284433, 89478484, 0];
const moonbitlang$core$double$internal$ryu$$gDOUBLE_POW5_SPLIT2 = [$0L, $1152921504606846976L, $0L, $1490116119384765625L, $1032610780636961552L, $1925929944387235853L, $7910200175544436838L, $1244603055572228341L, $_1504838264676837686L, $1608611746708759036L, $_5421850118411349444L, $2079081953128979843L, $6607496772837067824L, $1343575221513417750L, $_1113817083813899013L, $1736530273035216783L, $_5409364890226003632L, $2244412773384604712L, $1605989338741628675L, $1450417759929778918L, $_8816519005292960336L, $1874621017369538693L, $665883850346957067L, $1211445438634777304L, $_3514853404985837908L, $1565756531257009982L];
const moonbitlang$core$double$internal$ryu$$gPOW5_OFFSETS = [0, 0, 0, 0, 1073741824, 1500076437, 1431590229, 1448432917, 1091896580, 1079333904, 1146442053, 1146111296, 1163220304, 1073758208, -1773927360, 1431721317, 1413824581, 1075134801, 1431671125, 1363170645, 261];
const moonbitlang$core$double$internal$ryu$$gDOUBLE_POW5_TABLE = [$1L, $5L, $25L, $125L, $625L, $3125L, $15625L, $78125L, $390625L, $1953125L, $9765625L, $48828125L, $244140625L, $1220703125L, $6103515625L, $30517578125L, $152587890625L, $762939453125L, $3814697265625L, $19073486328125L, $95367431640625L, $476837158203125L, $2384185791015625L, $11920928955078125L, $59604644775390625L, $298023223876953125L];
const moonbitlang$core$double$internal$ryu$$ryu_to_string$46$record$47$567 = { mantissa: $0L, exponent: 0 };
const username$moonbit_examples$cmd$enums$$_main$46$c$47$590 = new Shape$Circle(5);
const username$moonbit_examples$cmd$enums$$_main$46$r$47$591 = new Shape$Rectangle(4, 6);
function moonbitlang$core$abort$$abort$2$(msg) {
  return $panic();
}
function moonbitlang$core$abort$$abort$3$(msg) {
  return $panic();
}
function moonbitlang$core$abort$$abort$4$(msg) {
  $panic();
}
function moonbitlang$core$abort$$abort$5$(msg) {
  return $panic();
}
function moonbitlang$core$builtin$$abort$2$(string, loc) {
  return moonbitlang$core$abort$$abort$2$(`${string}\n  at ${moonbitlang$core$builtin$$Show$to_string$6$(loc)}\n`);
}
function moonbitlang$core$builtin$$abort$3$(string, loc) {
  return moonbitlang$core$abort$$abort$3$(`${string}\n  at ${moonbitlang$core$builtin$$Show$to_string$6$(loc)}\n`);
}
function moonbitlang$core$builtin$$abort$4$(string, loc) {
  moonbitlang$core$abort$$abort$4$(`${string}\n  at ${moonbitlang$core$builtin$$Show$to_string$6$(loc)}\n`);
}
function moonbitlang$core$builtin$$abort$5$(string, loc) {
  return moonbitlang$core$abort$$abort$5$(`${string}\n  at ${moonbitlang$core$builtin$$Show$to_string$6$(loc)}\n`);
}
function moonbitlang$core$builtin$$StringBuilder$new$46$inner(size_hint) {
  return { val: "" };
}
function moonbitlang$core$builtin$$Logger$write_char$0$(self, ch) {
  const _bind = self;
  _bind.val = `${_bind.val}${String.fromCodePoint(ch)}`;
}
function moonbitlang$core$builtin$$op_notequal$7$(x, y) {
  return !moonbitlang$core$builtin$$Eq$equal$7$(x, y);
}
function moonbitlang$core$builtin$$boyer_moore_horspool_find(haystack, needle) {
  const haystack_len = haystack.end - haystack.start | 0;
  const needle_len = needle.end - needle.start | 0;
  if (needle_len > 0) {
    if (haystack_len >= needle_len) {
      const skip_table = $make_array_len_and_init(256, needle_len);
      const _end4418 = needle_len - 1 | 0;
      let _tmp = 0;
      while (true) {
        const i = _tmp;
        if (i < _end4418) {
          const _tmp$2 = needle.str;
          const _tmp$3 = needle.start + i | 0;
          const _tmp$4 = _tmp$2.charCodeAt(_tmp$3) & 255;
          $bound_check(skip_table, _tmp$4);
          skip_table[_tmp$4] = (needle_len - 1 | 0) - i | 0;
          _tmp = i + 1 | 0;
          continue;
        } else {
          break;
        }
      }
      let _tmp$2 = 0;
      while (true) {
        const i = _tmp$2;
        if (i <= (haystack_len - needle_len | 0)) {
          const _end4424 = needle_len - 1 | 0;
          let _tmp$3 = 0;
          while (true) {
            const j = _tmp$3;
            if (j <= _end4424) {
              const _p = i + j | 0;
              const _tmp$4 = haystack.str;
              const _tmp$5 = haystack.start + _p | 0;
              const _tmp$6 = _tmp$4.charCodeAt(_tmp$5);
              const _tmp$7 = needle.str;
              const _tmp$8 = needle.start + j | 0;
              if (_tmp$6 !== _tmp$7.charCodeAt(_tmp$8)) {
                break;
              }
              _tmp$3 = j + 1 | 0;
              continue;
            } else {
              return i;
            }
          }
          const _p = (i + needle_len | 0) - 1 | 0;
          const _tmp$4 = haystack.str;
          const _tmp$5 = haystack.start + _p | 0;
          const _tmp$6 = _tmp$4.charCodeAt(_tmp$5) & 255;
          $bound_check(skip_table, _tmp$6);
          _tmp$2 = i + skip_table[_tmp$6] | 0;
          continue;
        } else {
          break;
        }
      }
      return undefined;
    } else {
      return undefined;
    }
  } else {
    return moonbitlang$core$builtin$$boyer_moore_horspool_find$46$constr$47$28;
  }
}
function moonbitlang$core$builtin$$brute_force_find(haystack, needle) {
  const haystack_len = haystack.end - haystack.start | 0;
  const needle_len = needle.end - needle.start | 0;
  if (needle_len > 0) {
    if (haystack_len >= needle_len) {
      const _p = 0;
      const _tmp = needle.str;
      const _tmp$2 = needle.start + _p | 0;
      const needle_first = _tmp.charCodeAt(_tmp$2);
      const forward_len = haystack_len - needle_len | 0;
      let i = 0;
      while (true) {
        if (i <= forward_len) {
          while (true) {
            let _tmp$3;
            if (i <= forward_len) {
              const _p$2 = i;
              const _tmp$4 = haystack.str;
              const _tmp$5 = haystack.start + _p$2 | 0;
              _tmp$3 = _tmp$4.charCodeAt(_tmp$5) !== needle_first;
            } else {
              _tmp$3 = false;
            }
            if (_tmp$3) {
              i = i + 1 | 0;
              continue;
            } else {
              break;
            }
          }
          if (i <= forward_len) {
            let _tmp$3 = 1;
            while (true) {
              const j = _tmp$3;
              if (j < needle_len) {
                const _p$2 = i + j | 0;
                const _tmp$4 = haystack.str;
                const _tmp$5 = haystack.start + _p$2 | 0;
                const _tmp$6 = _tmp$4.charCodeAt(_tmp$5);
                const _tmp$7 = needle.str;
                const _tmp$8 = needle.start + j | 0;
                if (_tmp$6 !== _tmp$7.charCodeAt(_tmp$8)) {
                  break;
                }
                _tmp$3 = j + 1 | 0;
                continue;
              } else {
                return i;
              }
            }
            i = i + 1 | 0;
          }
          continue;
        } else {
          break;
        }
      }
      return undefined;
    } else {
      return undefined;
    }
  } else {
    return moonbitlang$core$builtin$$brute_force_find$46$constr$47$42;
  }
}
function moonbitlang$core$string$$StringView$find(self, str) {
  return (str.end - str.start | 0) <= 4 ? moonbitlang$core$builtin$$brute_force_find(self, str) : moonbitlang$core$builtin$$boyer_moore_horspool_find(self, str);
}
function moonbitlang$core$builtin$$boyer_moore_horspool_rev_find(haystack, needle) {
  const haystack_len = haystack.end - haystack.start | 0;
  const needle_len = needle.end - needle.start | 0;
  if (needle_len > 0) {
    if (haystack_len >= needle_len) {
      const skip_table = $make_array_len_and_init(256, needle_len);
      let _tmp = needle_len - 1 | 0;
      while (true) {
        const i = _tmp;
        if (i > 0) {
          const _tmp$2 = needle.str;
          const _tmp$3 = needle.start + i | 0;
          const _tmp$4 = _tmp$2.charCodeAt(_tmp$3) & 255;
          $bound_check(skip_table, _tmp$4);
          skip_table[_tmp$4] = i;
          _tmp = i - 1 | 0;
          continue;
        } else {
          break;
        }
      }
      let _tmp$2 = haystack_len - needle_len | 0;
      while (true) {
        const i = _tmp$2;
        if (i >= 0) {
          let _tmp$3 = 0;
          while (true) {
            const j = _tmp$3;
            if (j < needle_len) {
              const _p = i + j | 0;
              const _tmp$4 = haystack.str;
              const _tmp$5 = haystack.start + _p | 0;
              const _tmp$6 = _tmp$4.charCodeAt(_tmp$5);
              const _tmp$7 = needle.str;
              const _tmp$8 = needle.start + j | 0;
              if (_tmp$6 !== _tmp$7.charCodeAt(_tmp$8)) {
                break;
              }
              _tmp$3 = j + 1 | 0;
              continue;
            } else {
              return i;
            }
          }
          const _tmp$4 = haystack.str;
          const _tmp$5 = haystack.start + i | 0;
          const _tmp$6 = _tmp$4.charCodeAt(_tmp$5) & 255;
          $bound_check(skip_table, _tmp$6);
          _tmp$2 = i - skip_table[_tmp$6] | 0;
          continue;
        } else {
          break;
        }
      }
      return undefined;
    } else {
      return undefined;
    }
  } else {
    return haystack_len;
  }
}
function moonbitlang$core$builtin$$brute_force_rev_find(haystack, needle) {
  const haystack_len = haystack.end - haystack.start | 0;
  const needle_len = needle.end - needle.start | 0;
  if (needle_len > 0) {
    if (haystack_len >= needle_len) {
      const _p = 0;
      const _tmp = needle.str;
      const _tmp$2 = needle.start + _p | 0;
      const needle_first = _tmp.charCodeAt(_tmp$2);
      let i = haystack_len - needle_len | 0;
      while (true) {
        if (i >= 0) {
          while (true) {
            let _tmp$3;
            if (i >= 0) {
              const _p$2 = i;
              const _tmp$4 = haystack.str;
              const _tmp$5 = haystack.start + _p$2 | 0;
              _tmp$3 = _tmp$4.charCodeAt(_tmp$5) !== needle_first;
            } else {
              _tmp$3 = false;
            }
            if (_tmp$3) {
              i = i - 1 | 0;
              continue;
            } else {
              break;
            }
          }
          if (i >= 0) {
            let _tmp$3 = 1;
            while (true) {
              const j = _tmp$3;
              if (j < needle_len) {
                const _p$2 = i + j | 0;
                const _tmp$4 = haystack.str;
                const _tmp$5 = haystack.start + _p$2 | 0;
                const _tmp$6 = _tmp$4.charCodeAt(_tmp$5);
                const _tmp$7 = needle.str;
                const _tmp$8 = needle.start + j | 0;
                if (_tmp$6 !== _tmp$7.charCodeAt(_tmp$8)) {
                  break;
                }
                _tmp$3 = j + 1 | 0;
                continue;
              } else {
                return i;
              }
            }
            i = i - 1 | 0;
          }
          continue;
        } else {
          break;
        }
      }
      return undefined;
    } else {
      return undefined;
    }
  } else {
    return haystack_len;
  }
}
function moonbitlang$core$string$$StringView$rev_find(self, str) {
  return (str.end - str.start | 0) <= 4 ? moonbitlang$core$builtin$$brute_force_rev_find(self, str) : moonbitlang$core$builtin$$boyer_moore_horspool_rev_find(self, str);
}
function moonbitlang$core$string$$StringView$view$46$inner(self, start_offset, end_offset) {
  let end_offset$2;
  if (end_offset === undefined) {
    end_offset$2 = self.end - self.start | 0;
  } else {
    const _Some = end_offset;
    end_offset$2 = _Some;
  }
  return start_offset >= 0 && (start_offset <= end_offset$2 && end_offset$2 <= (self.end - self.start | 0)) ? { str: self.str, start: self.start + start_offset | 0, end: self.start + end_offset$2 | 0 } : moonbitlang$core$builtin$$abort$3$("Invalid index for View", "@moonbitlang/core/builtin:stringview.mbt:111:5-111:36");
}
function moonbitlang$core$builtin$$parse$46$parse_loc$124$1093(view) {
  const _bind = moonbitlang$core$string$$StringView$find(view, { str: moonbitlang$core$builtin$$parse$46$42$bind$124$5354, start: 0, end: moonbitlang$core$builtin$$parse$46$42$bind$124$5354.length });
  if (_bind === undefined) {
    return undefined;
  } else {
    const _Some = _bind;
    const _i = _Some;
    return _i > 0 && (_i + 1 | 0) < (view.end - view.start | 0) ? { _0: moonbitlang$core$string$$StringView$view$46$inner(view, 0, _i), _1: moonbitlang$core$string$$StringView$view$46$inner(view, _i + 1 | 0, undefined) } : undefined;
  }
}
function moonbitlang$core$builtin$$SourceLocRepr$parse(repr) {
  _L: {
    if (moonbitlang$core$string$$String$char_length_ge$46$inner(repr, 1, 0, repr.length)) {
      const _x = repr.charCodeAt(0);
      if (_x === 64) {
        const _bind = moonbitlang$core$string$$String$offset_of_nth_char$46$inner(repr, 1, 0, repr.length);
        let _tmp;
        if (_bind === undefined) {
          _tmp = repr.length;
        } else {
          const _Some = _bind;
          _tmp = _Some;
        }
        const _x$2 = { str: repr, start: _tmp, end: repr.length };
        const _bind$2 = moonbitlang$core$string$$StringView$find(_x$2, { str: moonbitlang$core$builtin$$parse$46$42$bind$124$5393, start: 0, end: moonbitlang$core$builtin$$parse$46$42$bind$124$5393.length });
        if (_bind$2 === undefined) {
          return $panic();
        } else {
          const _Some = _bind$2;
          const _pkg_end = _Some;
          const pkg = moonbitlang$core$string$$StringView$view$46$inner(_x$2, 0, _pkg_end);
          const _bind$3 = moonbitlang$core$string$$StringView$rev_find(_x$2, { str: moonbitlang$core$builtin$$parse$46$42$bind$124$5387, start: 0, end: moonbitlang$core$builtin$$parse$46$42$bind$124$5387.length });
          if (_bind$3 === undefined) {
            return $panic();
          } else {
            const _Some$2 = _bind$3;
            const _start_loc_end = _Some$2;
            if ((_start_loc_end + 1 | 0) < (_x$2.end - _x$2.start | 0)) {
              const end_loc = moonbitlang$core$string$$StringView$view$46$inner(_x$2, _start_loc_end + 1 | 0, undefined);
              const _bind$4 = moonbitlang$core$builtin$$parse$46$parse_loc$124$1093(end_loc);
              if (_bind$4 === undefined) {
                return $panic();
              } else {
                const _Some$3 = _bind$4;
                const _x$3 = _Some$3;
                const _end_line = _x$3._0;
                const _end_column = _x$3._1;
                const rest = moonbitlang$core$string$$StringView$view$46$inner(_x$2, 0, _start_loc_end);
                _L$2: {
                  const _bind$5 = moonbitlang$core$string$$StringView$rev_find(rest, { str: moonbitlang$core$builtin$$parse$46$42$bind$124$5374, start: 0, end: moonbitlang$core$builtin$$parse$46$42$bind$124$5374.length });
                  if (_bind$5 === undefined) {
                    break _L$2;
                  } else {
                    const _Some$4 = _bind$5;
                    const _start_line_end = _Some$4;
                    const _bind$6 = moonbitlang$core$string$$StringView$rev_find(moonbitlang$core$string$$StringView$view$46$inner(rest, 0, _start_line_end), { str: moonbitlang$core$builtin$$parse$46$42$bind$124$5368, start: 0, end: moonbitlang$core$builtin$$parse$46$42$bind$124$5368.length });
                    if (_bind$6 === undefined) {
                      break _L$2;
                    } else {
                      const _Some$5 = _bind$6;
                      const _filename_end = _Some$5;
                      if ((_filename_end + 1 | 0) < (rest.end - rest.start | 0)) {
                        const start_loc = moonbitlang$core$string$$StringView$view$46$inner(rest, _filename_end + 1 | 0, undefined);
                        const _bind$7 = moonbitlang$core$builtin$$parse$46$parse_loc$124$1093(start_loc);
                        if (_bind$7 === undefined) {
                          return $panic();
                        } else {
                          const _Some$6 = _bind$7;
                          const _x$4 = _Some$6;
                          const _start_line = _x$4._0;
                          const _start_column = _x$4._1;
                          if (_filename_end > (_pkg_end + 1 | 0)) {
                            const filename = moonbitlang$core$string$$StringView$view$46$inner(rest, _pkg_end + 1 | 0, _filename_end);
                            return { pkg: pkg, filename: filename, start_line: _start_line, start_column: _start_column, end_line: _end_line, end_column: _end_column };
                          } else {
                            return $panic();
                          }
                        }
                      } else {
                        return $panic();
                      }
                    }
                  }
                }
                return $panic();
              }
            } else {
              return $panic();
            }
          }
        }
      } else {
        break _L;
      }
    } else {
      break _L;
    }
  }
  return $panic();
}
function moonbitlang$core$builtin$$Logger$write_string$0$(self, str) {
  const _bind = self;
  _bind.val = `${_bind.val}${str}`;
}
function moonbitlang$core$builtin$$Compare$op_lt$8$(x, y) {
  return moonbitlang$core$builtin$$Compare$compare$7$(x, y) < 0;
}
function moonbitlang$core$builtin$$Compare$op_gt$8$(x, y) {
  return moonbitlang$core$builtin$$Compare$compare$7$(x, y) > 0;
}
function moonbitlang$core$builtin$$Compare$op_le$8$(x, y) {
  return moonbitlang$core$builtin$$Compare$compare$7$(x, y) <= 0;
}
function moonbitlang$core$builtin$$Compare$op_ge$8$(x, y) {
  return moonbitlang$core$builtin$$Compare$compare$7$(x, y) >= 0;
}
function moonbitlang$core$string$$String$sub$46$inner(self, start, end) {
  const len = self.length;
  let end$2;
  if (end === undefined) {
    end$2 = len;
  } else {
    const _Some = end;
    const _end = _Some;
    end$2 = _end < 0 ? len + _end | 0 : _end;
  }
  const start$2 = start < 0 ? len + start | 0 : start;
  if (start$2 >= 0 && (start$2 <= end$2 && end$2 <= len)) {
    let _tmp;
    if (start$2 < len) {
      const _p = self.charCodeAt(start$2);
      _tmp = 56320 <= _p && _p <= 57343;
    } else {
      _tmp = false;
    }
    if (_tmp) {
      return new Result$Err$0$(Error$moonbitlang$47$core$47$builtin$46$CreatingViewError$46$InvalidIndex);
    }
    let _tmp$2;
    if (end$2 < len) {
      const _p = self.charCodeAt(end$2);
      _tmp$2 = 56320 <= _p && _p <= 57343;
    } else {
      _tmp$2 = false;
    }
    if (_tmp$2) {
      return new Result$Err$0$(Error$moonbitlang$47$core$47$builtin$46$CreatingViewError$46$InvalidIndex);
    }
    return new Result$Ok$0$({ str: self, start: start$2, end: end$2 });
  } else {
    return new Result$Err$0$(Error$moonbitlang$47$core$47$builtin$46$CreatingViewError$46$IndexOutOfBounds);
  }
}
function moonbitlang$core$builtin$$Logger$write_substring$1$(self, value, start, len) {
  let _tmp;
  let _try_err;
  _L: {
    _L$2: {
      const _bind = moonbitlang$core$string$$String$sub$46$inner(value, start, start + len | 0);
      if (_bind.$tag === 1) {
        const _ok = _bind;
        _tmp = _ok._0;
      } else {
        const _err = _bind;
        const _tmp$2 = _err._0;
        _try_err = _tmp$2;
        break _L$2;
      }
      break _L;
    }
    _tmp = $panic();
  }
  moonbitlang$core$builtin$$Logger$write_view$0$(self, _tmp);
}
function moonbitlang$core$builtin$$Show$to_string$9$(self) {
  const logger = moonbitlang$core$builtin$$StringBuilder$new$46$inner(0);
  moonbitlang$core$builtin$$Show$output$10$(self, { self: logger, method_table: $$$64$moonbitlang$47$core$47$builtin$46$StringBuilder$36$as$36$64$moonbitlang$47$core$47$builtin$46$Logger });
  return logger.val;
}
function moonbitlang$core$builtin$$Show$to_string$8$(self) {
  const logger = moonbitlang$core$builtin$$StringBuilder$new$46$inner(0);
  moonbitlang$core$builtin$$Show$output$7$(self, { self: logger, method_table: $$$64$moonbitlang$47$core$47$builtin$46$StringBuilder$36$as$36$64$moonbitlang$47$core$47$builtin$46$Logger });
  return logger.val;
}
function moonbitlang$core$builtin$$Show$to_string$6$(self) {
  const logger = moonbitlang$core$builtin$$StringBuilder$new$46$inner(0);
  moonbitlang$core$builtin$$Show$output$11$(self, { self: logger, method_table: $$$64$moonbitlang$47$core$47$builtin$46$StringBuilder$36$as$36$64$moonbitlang$47$core$47$builtin$46$Logger });
  return logger.val;
}
function moonbitlang$core$uint64$$UInt64$to_string$46$inner(self, radix) {
  return moonbitlang$core$builtin$$uint64_to_string_js(self, radix);
}
function moonbitlang$core$builtin$$Show$to_string$3$(self) {
  return self.str.substring(self.start, self.end);
}
function moonbitlang$core$string$$String$char_length_ge$46$inner(self, len, start_offset, end_offset) {
  let end_offset$2;
  if (end_offset === undefined) {
    end_offset$2 = self.length;
  } else {
    const _Some = end_offset;
    end_offset$2 = _Some;
  }
  let _tmp = start_offset;
  let _tmp$2 = 0;
  while (true) {
    const index = _tmp;
    const count = _tmp$2;
    if (index < end_offset$2 && count < len) {
      const c1 = self.charCodeAt(index);
      if (55296 <= c1 && c1 <= 56319 && (index + 1 | 0) < end_offset$2) {
        const _tmp$3 = index + 1 | 0;
        const c2 = self.charCodeAt(_tmp$3);
        if (56320 <= c2 && c2 <= 57343) {
          _tmp = index + 2 | 0;
          _tmp$2 = count + 1 | 0;
          continue;
        } else {
          moonbitlang$core$builtin$$abort$4$("invalid surrogate pair", "@moonbitlang/core/builtin:string.mbt:491:9-491:40");
        }
      }
      _tmp = index + 1 | 0;
      _tmp$2 = count + 1 | 0;
      continue;
    } else {
      return count >= len;
    }
  }
}
function moonbitlang$core$string$$String$offset_of_nth_char_backward(self, n, start_offset, end_offset) {
  let char_count = 0;
  let utf16_offset = end_offset;
  while (true) {
    if ((utf16_offset - 1 | 0) >= start_offset && char_count < n) {
      const _tmp = utf16_offset - 1 | 0;
      const c = self.charCodeAt(_tmp);
      if (56320 <= c && c <= 57343) {
        utf16_offset = utf16_offset - 2 | 0;
      } else {
        utf16_offset = utf16_offset - 1 | 0;
      }
      char_count = char_count + 1 | 0;
      continue;
    } else {
      break;
    }
  }
  return char_count < n || utf16_offset < start_offset ? undefined : utf16_offset;
}
function moonbitlang$core$string$$String$offset_of_nth_char_forward(self, n, start_offset, end_offset) {
  if (start_offset >= 0 && start_offset <= end_offset) {
    let utf16_offset = start_offset;
    let char_count = 0;
    while (true) {
      if (utf16_offset < end_offset && char_count < n) {
        const _tmp = utf16_offset;
        const c = self.charCodeAt(_tmp);
        if (55296 <= c && c <= 56319) {
          utf16_offset = utf16_offset + 2 | 0;
        } else {
          utf16_offset = utf16_offset + 1 | 0;
        }
        char_count = char_count + 1 | 0;
        continue;
      } else {
        break;
      }
    }
    return char_count < n || utf16_offset >= end_offset ? undefined : utf16_offset;
  } else {
    return moonbitlang$core$builtin$$abort$5$("Invalid start index", "@moonbitlang/core/builtin:string.mbt:366:5-366:33");
  }
}
function moonbitlang$core$string$$String$offset_of_nth_char$46$inner(self, i, start_offset, end_offset) {
  let end_offset$2;
  if (end_offset === undefined) {
    end_offset$2 = self.length;
  } else {
    const _Some = end_offset;
    end_offset$2 = _Some;
  }
  return i >= 0 ? moonbitlang$core$string$$String$offset_of_nth_char_forward(self, i, start_offset, end_offset$2) : moonbitlang$core$string$$String$offset_of_nth_char_backward(self, -i | 0, start_offset, end_offset$2);
}
function moonbitlang$core$builtin$$Logger$write_view$0$(self, str) {
  const _bind = self;
  _bind.val = `${_bind.val}${moonbitlang$core$builtin$$Show$to_string$3$(str)}`;
}
function moonbitlang$core$builtin$$Show$output$7$(self, logger) {
  logger.method_table.method_0(logger.self, moonbitlang$core$uint64$$UInt64$to_string$46$inner(self, 10));
}
function moonbitlang$core$builtin$$MyInt64$extend_i32_u(value) {
  return { hi: 0, lo: value };
}
function moonbitlang$core$uint64$$UInt64$extend_uint(value) {
  return moonbitlang$core$builtin$$MyInt64$extend_i32_u(value);
}
function moonbitlang$core$uint$$UInt$to_uint64(self) {
  return moonbitlang$core$uint64$$UInt64$extend_uint(self);
}
function moonbitlang$core$uint64$$UInt64$to_int(self) {
  const _p = self;
  return _p.lo;
}
function moonbitlang$core$builtin$$MyInt64$add_hi_lo(self, bhi, blo) {
  const _ahi = self.hi;
  const _alo = self.lo;
  const lo = _alo + blo | 0;
  const s = lo >> 31;
  const as_ = _alo >> 31;
  const bs = blo >> 31;
  const c = (as_ & bs | ~s & (as_ ^ bs)) & 1;
  const hi = (_ahi + bhi | 0) + c | 0;
  return { hi: hi, lo: lo };
}
function moonbitlang$core$builtin$$Add$add$12$(self, other) {
  return moonbitlang$core$builtin$$MyInt64$add_hi_lo(self, other.hi, other.lo);
}
function moonbitlang$core$builtin$$Sub$sub$12$(self, other) {
  return other.lo === 0 ? { hi: self.hi - other.hi | 0, lo: self.lo } : moonbitlang$core$builtin$$MyInt64$add_hi_lo(self, ~other.hi, ~other.lo + 1 | 0);
}
function moonbitlang$core$builtin$$Mul$mul$12$(self, other) {
  const _ahi = self.hi;
  const _alo = self.lo;
  const _bhi = other.hi;
  const _blo = other.lo;
  const ahi = _ahi;
  const alo = _alo;
  const bhi = _bhi;
  const blo = _blo;
  const a48 = ahi >>> 16 | 0;
  const a32 = ahi & 65535;
  const a16 = alo >>> 16 | 0;
  const a00 = alo & 65535;
  const b48 = bhi >>> 16 | 0;
  const b32 = bhi & 65535;
  const b16 = blo >>> 16 | 0;
  const b00 = blo & 65535;
  const c00 = Math.imul(a00, b00) | 0;
  const c16 = c00 >>> 16 | 0;
  const c00$2 = c00 & 65535;
  const c16$2 = (c16 >>> 0) + ((Math.imul(a16, b00) | 0) >>> 0) | 0;
  const c32 = c16$2 >>> 16 | 0;
  const c16$3 = c16$2 & 65535;
  const c16$4 = (c16$3 >>> 0) + ((Math.imul(a00, b16) | 0) >>> 0) | 0;
  const c32$2 = (c32 >>> 0) + ((c16$4 >>> 16 | 0) >>> 0) | 0;
  const c16$5 = c16$4 & 65535;
  const c32$3 = (c32$2 >>> 0) + ((Math.imul(a32, b00) | 0) >>> 0) | 0;
  const c48 = c32$3 >>> 16 | 0;
  const c32$4 = c32$3 & 65535;
  const c32$5 = (c32$4 >>> 0) + ((Math.imul(a16, b16) | 0) >>> 0) | 0;
  const c48$2 = (c48 >>> 0) + ((c32$5 >>> 16 | 0) >>> 0) | 0;
  const c32$6 = c32$5 & 65535;
  const c32$7 = (c32$6 >>> 0) + ((Math.imul(a00, b32) | 0) >>> 0) | 0;
  const c48$3 = (c48$2 >>> 0) + ((c32$7 >>> 16 | 0) >>> 0) | 0;
  const c32$8 = c32$7 & 65535;
  const c48$4 = (((((((c48$3 >>> 0) + ((Math.imul(a48, b00) | 0) >>> 0) | 0) >>> 0) + ((Math.imul(a32, b16) | 0) >>> 0) | 0) >>> 0) + ((Math.imul(a16, b32) | 0) >>> 0) | 0) >>> 0) + ((Math.imul(a00, b48) | 0) >>> 0) | 0;
  const c48$5 = c48$4 & 65535;
  return { hi: c48$5 << 16 | c32$8, lo: c16$5 << 16 | c00$2 };
}
function moonbitlang$core$builtin$$try_get_int64_wasm_helper() {
  if (moonbitlang$core$builtin$$wasm_helper_cache.tried) {
    const _bind = moonbitlang$core$builtin$$wasm_helper_cache.exports;
    return !(_bind === undefined);
  }
  moonbitlang$core$builtin$$wasm_helper_cache.tried = true;
  moonbitlang$core$builtin$$wasm_helper_cache.exports = moonbitlang$core$builtin$$try_init_wasm_helper();
  const _bind = moonbitlang$core$builtin$$wasm_helper_cache.exports;
  return !(_bind === undefined);
}
function moonbitlang$core$builtin$$MyInt64$div_u(self, other) {
  if (!(other.hi === 0 && other.lo === 0)) {
    if (!moonbitlang$core$builtin$$try_get_int64_wasm_helper()) {
      return moonbitlang$core$builtin$$MyInt64$div_u_bigint(self, other);
    }
    const _bind = moonbitlang$core$builtin$$wasm_helper_cache.exports;
    if (_bind === undefined) {
      return $panic();
    } else {
      const _Some = _bind;
      const _exports = _Some;
      const _ahi = self.hi;
      const _alo = self.lo;
      const _bhi = other.hi;
      const _blo = other.lo;
      const _func = _exports.div_u;
      const lo = _func(_alo, _ahi, _blo, _bhi);
      const _func$2 = _exports.get_high;
      const hi = _func$2();
      return { hi: hi, lo: lo };
    }
  } else {
    return $panic();
  }
}
function moonbitlang$core$builtin$$MyInt64$mod_u(self, other) {
  if (!(other.hi === 0 && other.lo === 0)) {
    if (!moonbitlang$core$builtin$$try_get_int64_wasm_helper()) {
      return moonbitlang$core$builtin$$MyInt64$mod_u_bigint(self, other);
    }
    const _bind = moonbitlang$core$builtin$$wasm_helper_cache.exports;
    if (_bind === undefined) {
      return $panic();
    } else {
      const _Some = _bind;
      const _exports = _Some;
      const _ahi = self.hi;
      const _alo = self.lo;
      const _bhi = other.hi;
      const _blo = other.lo;
      const _func = _exports.rem_u;
      const lo = _func(_alo, _ahi, _blo, _bhi);
      const _func$2 = _exports.get_high;
      const hi = _func$2();
      return { hi: hi, lo: lo };
    }
  } else {
    return $panic();
  }
}
function moonbitlang$core$builtin$$MyInt64$land(self, other) {
  return { hi: self.hi & other.hi, lo: self.lo & other.lo };
}
function moonbitlang$core$builtin$$MyInt64$lor(self, other) {
  return { hi: self.hi | other.hi, lo: self.lo | other.lo };
}
function moonbitlang$core$builtin$$MyInt64$lsl(self, shift) {
  const shift$2 = shift & 63;
  if (shift$2 === 0) {
    return self;
  } else {
    if (shift$2 < 32) {
      const _hi = self.hi;
      const _lo = self.lo;
      const hi = _hi;
      const lo = _lo;
      const hi$2 = hi << shift$2 | (lo >>> (32 - shift$2 | 0) | 0);
      const lo$2 = lo << shift$2;
      return { hi: hi$2, lo: lo$2 };
    } else {
      return { hi: self.lo << (shift$2 - 32 | 0), lo: 0 };
    }
  }
}
function moonbitlang$core$builtin$$MyInt64$lsr(self, shift) {
  const shift$2 = shift & 63;
  return shift$2 === 0 ? self : shift$2 < 32 ? { hi: self.hi >>> shift$2 | 0, lo: self.lo >>> shift$2 | self.hi << (32 - shift$2 | 0) } : { hi: 0, lo: self.hi >>> (shift$2 - 32 | 0) | 0 };
}
function moonbitlang$core$double$$Double$reinterpret_as_uint64(self) {
  return moonbitlang$core$builtin$$MyInt64$reinterpret_double(self);
}
function moonbitlang$core$builtin$$Add$add$7$(self, other) {
  return moonbitlang$core$builtin$$Add$add$12$(self, other);
}
function moonbitlang$core$builtin$$Sub$sub$7$(self, other) {
  return moonbitlang$core$builtin$$Sub$sub$12$(self, other);
}
function moonbitlang$core$builtin$$Mul$mul$7$(self, other) {
  return moonbitlang$core$builtin$$Mul$mul$12$(self, other);
}
function moonbitlang$core$builtin$$Div$div$7$(self, other) {
  return moonbitlang$core$builtin$$MyInt64$div_u(self, other);
}
function moonbitlang$core$builtin$$Mod$mod$7$(self, other) {
  return moonbitlang$core$builtin$$MyInt64$mod_u(self, other);
}
function moonbitlang$core$builtin$$Compare$compare$7$(self, other) {
  return moonbitlang$core$builtin$$MyInt64$compare_u(self, other);
}
function moonbitlang$core$builtin$$Eq$equal$7$(self, other) {
  const _p = self;
  const _p$2 = other;
  return _p.hi === _p$2.hi && _p.lo === _p$2.lo;
}
function moonbitlang$core$builtin$$BitAnd$land$7$(self, other) {
  return moonbitlang$core$builtin$$MyInt64$land(self, other);
}
function moonbitlang$core$builtin$$BitOr$lor$7$(self, other) {
  return moonbitlang$core$builtin$$MyInt64$lor(self, other);
}
function moonbitlang$core$builtin$$Shl$shl$7$(self, shift) {
  return moonbitlang$core$builtin$$MyInt64$lsl(self, shift);
}
function moonbitlang$core$builtin$$Shr$shr$7$(self, shift) {
  return moonbitlang$core$builtin$$MyInt64$lsr(self, shift);
}
function moonbitlang$core$builtin$$println$13$(input) {
  console.log(input);
}
function moonbitlang$core$builtin$$Show$output$14$(self, logger) {
  const pkg = self.pkg;
  const _bind = moonbitlang$core$string$$StringView$find(pkg, { str: moonbitlang$core$builtin$$output$46$42$bind$124$8198, start: 0, end: moonbitlang$core$builtin$$output$46$42$bind$124$8198.length });
  let _bind$2;
  if (_bind === undefined) {
    _bind$2 = { _0: pkg, _1: undefined };
  } else {
    const _Some = _bind;
    const _first_slash = _Some;
    const _bind$3 = moonbitlang$core$string$$StringView$find(moonbitlang$core$string$$StringView$view$46$inner(pkg, _first_slash + 1 | 0, undefined), { str: moonbitlang$core$builtin$$output$46$42$bind$124$8192, start: 0, end: moonbitlang$core$builtin$$output$46$42$bind$124$8192.length });
    if (_bind$3 === undefined) {
      _bind$2 = { _0: pkg, _1: undefined };
    } else {
      const _Some$2 = _bind$3;
      const _second_slash = _Some$2;
      const module_name_end = (_first_slash + 1 | 0) + _second_slash | 0;
      _bind$2 = { _0: moonbitlang$core$string$$StringView$view$46$inner(pkg, 0, module_name_end), _1: moonbitlang$core$string$$StringView$view$46$inner(pkg, module_name_end + 1 | 0, undefined) };
    }
  }
  const _module_name = _bind$2._0;
  const _package_name = _bind$2._1;
  if (_package_name === undefined) {
  } else {
    const _Some = _package_name;
    const _pkg_name = _Some;
    logger.method_table.method_2(logger.self, _pkg_name);
    logger.method_table.method_3(logger.self, 47);
  }
  logger.method_table.method_2(logger.self, self.filename);
  logger.method_table.method_3(logger.self, 58);
  logger.method_table.method_2(logger.self, self.start_line);
  logger.method_table.method_3(logger.self, 58);
  logger.method_table.method_2(logger.self, self.start_column);
  logger.method_table.method_3(logger.self, 45);
  logger.method_table.method_2(logger.self, self.end_line);
  logger.method_table.method_3(logger.self, 58);
  logger.method_table.method_2(logger.self, self.end_column);
  logger.method_table.method_3(logger.self, 64);
  logger.method_table.method_2(logger.self, _module_name);
}
function moonbitlang$core$builtin$$Show$output$11$(self, logger) {
  moonbitlang$core$builtin$$Show$output$14$(moonbitlang$core$builtin$$SourceLocRepr$parse(self), logger);
}
function moonbitlang$core$double$internal$ryu$$copy_special_str(sign, exponent, mantissa) {
  if (mantissa) {
    return "NaN";
  }
  const s = sign ? "-" : "";
  if (exponent) {
    return `${s}Infinity`;
  }
  return `${s}0.0`;
}
function moonbitlang$core$double$internal$ryu$$string_from_bytes(bytes, from, to) {
  const buf = moonbitlang$core$builtin$$StringBuilder$new$46$inner(bytes.length);
  let _tmp = from;
  while (true) {
    const i = _tmp;
    if (i < to) {
      $bound_check(bytes, i);
      const _p = bytes[i];
      moonbitlang$core$builtin$$Logger$write_char$0$(buf, _p);
      _tmp = i + 1 | 0;
      continue;
    } else {
      break;
    }
  }
  return buf.val;
}
function moonbitlang$core$double$internal$ryu$$umul128(a, b) {
  const aLo = moonbitlang$core$builtin$$BitAnd$land$7$(a, $4294967295L);
  const aHi = moonbitlang$core$builtin$$Shr$shr$7$(a, 32);
  const bLo = moonbitlang$core$builtin$$BitAnd$land$7$(b, $4294967295L);
  const bHi = moonbitlang$core$builtin$$Shr$shr$7$(b, 32);
  const x = moonbitlang$core$builtin$$Mul$mul$7$(aLo, bLo);
  const y = moonbitlang$core$builtin$$Add$add$7$(moonbitlang$core$builtin$$Mul$mul$7$(aHi, bLo), moonbitlang$core$builtin$$Shr$shr$7$(x, 32));
  const z = moonbitlang$core$builtin$$Add$add$7$(moonbitlang$core$builtin$$Mul$mul$7$(aLo, bHi), moonbitlang$core$builtin$$BitAnd$land$7$(y, $4294967295L));
  const w = moonbitlang$core$builtin$$Add$add$7$(moonbitlang$core$builtin$$Add$add$7$(moonbitlang$core$builtin$$Mul$mul$7$(aHi, bHi), moonbitlang$core$builtin$$Shr$shr$7$(y, 32)), moonbitlang$core$builtin$$Shr$shr$7$(z, 32));
  const lo = moonbitlang$core$builtin$$Mul$mul$7$(a, b);
  return { _0: lo, _1: w };
}
function moonbitlang$core$double$internal$ryu$$shiftright128(lo, hi, dist) {
  return moonbitlang$core$builtin$$BitOr$lor$7$(moonbitlang$core$builtin$$Shl$shl$7$(hi, 64 - dist | 0), moonbitlang$core$builtin$$Shr$shr$7$(lo, dist));
}
function moonbitlang$core$double$internal$ryu$$pow5Factor(value) {
  if (moonbitlang$core$builtin$$op_notequal$7$(moonbitlang$core$builtin$$Mod$mod$7$(value, $5L), $0L)) {
    return 0;
  }
  if (moonbitlang$core$builtin$$op_notequal$7$(moonbitlang$core$builtin$$Mod$mod$7$(value, $25L), $0L)) {
    return 1;
  }
  if (moonbitlang$core$builtin$$op_notequal$7$(moonbitlang$core$builtin$$Mod$mod$7$(value, $125L), $0L)) {
    return 2;
  }
  if (moonbitlang$core$builtin$$op_notequal$7$(moonbitlang$core$builtin$$Mod$mod$7$(value, $625L), $0L)) {
    return 3;
  }
  let count = 4;
  let value$2 = moonbitlang$core$builtin$$Div$div$7$(value, $625L);
  while (true) {
    if (moonbitlang$core$builtin$$Compare$op_gt$8$(value$2, $0L)) {
      if (moonbitlang$core$builtin$$op_notequal$7$(moonbitlang$core$builtin$$Mod$mod$7$(value$2, $5L), $0L)) {
        return count;
      }
      value$2 = moonbitlang$core$builtin$$Div$div$7$(value$2, $5L);
      count = count + 1 | 0;
      continue;
    } else {
      break;
    }
  }
  return moonbitlang$core$builtin$$abort$2$(`IllegalArgumentException ${moonbitlang$core$builtin$$Show$to_string$8$(value$2)}`, "@moonbitlang/core/double/internal/ryu:ryu.mbt:116:3-116:45");
}
function moonbitlang$core$double$internal$ryu$$multipleOfPowerOf5(value, p) {
  return moonbitlang$core$double$internal$ryu$$pow5Factor(value) >= p;
}
function moonbitlang$core$double$internal$ryu$$multipleOfPowerOf2(value, p) {
  return moonbitlang$core$builtin$$Eq$equal$7$(moonbitlang$core$builtin$$BitAnd$land$7$(value, moonbitlang$core$builtin$$Sub$sub$7$(moonbitlang$core$builtin$$Shl$shl$7$($1L, p), $1L)), $0L);
}
function moonbitlang$core$double$internal$ryu$$mulShiftAll64(m, mul, j, mmShift) {
  const _mul0 = mul._0;
  const _mul1 = mul._1;
  const m$2 = moonbitlang$core$builtin$$Shl$shl$7$(m, 1);
  const _bind = moonbitlang$core$double$internal$ryu$$umul128(m$2, _mul0);
  const _lo = _bind._0;
  const _tmp = _bind._1;
  const _bind$2 = moonbitlang$core$double$internal$ryu$$umul128(m$2, _mul1);
  const _lo2 = _bind$2._0;
  const _hi2 = _bind$2._1;
  const mid = moonbitlang$core$builtin$$Add$add$7$(_tmp, _lo2);
  const hi = moonbitlang$core$builtin$$Add$add$7$(_hi2, moonbitlang$core$builtin$$Compare$op_lt$8$(mid, _tmp) ? $1L : $0L);
  const lo2 = moonbitlang$core$builtin$$Add$add$7$(_lo, _mul0);
  const mid2 = moonbitlang$core$builtin$$Add$add$7$(moonbitlang$core$builtin$$Add$add$7$(mid, _mul1), moonbitlang$core$builtin$$Compare$op_lt$8$(lo2, _lo) ? $1L : $0L);
  const hi2 = moonbitlang$core$builtin$$Add$add$7$(hi, moonbitlang$core$builtin$$Compare$op_lt$8$(mid2, mid) ? $1L : $0L);
  const vp = moonbitlang$core$double$internal$ryu$$shiftright128(mid2, hi2, (j - 64 | 0) - 1 | 0);
  let vm = $0L;
  if (mmShift) {
    const lo3 = moonbitlang$core$builtin$$Sub$sub$7$(_lo, _mul0);
    const mid3 = moonbitlang$core$builtin$$Sub$sub$7$(moonbitlang$core$builtin$$Sub$sub$7$(mid, _mul1), moonbitlang$core$builtin$$Compare$op_lt$8$(_lo, lo3) ? $1L : $0L);
    const hi3 = moonbitlang$core$builtin$$Sub$sub$7$(hi, moonbitlang$core$builtin$$Compare$op_lt$8$(mid, mid3) ? $1L : $0L);
    vm = moonbitlang$core$double$internal$ryu$$shiftright128(mid3, hi3, (j - 64 | 0) - 1 | 0);
  } else {
    const lo3 = moonbitlang$core$builtin$$Add$add$7$(_lo, _lo);
    const mid3 = moonbitlang$core$builtin$$Add$add$7$(moonbitlang$core$builtin$$Add$add$7$(mid, mid), moonbitlang$core$builtin$$Compare$op_lt$8$(lo3, _lo) ? $1L : $0L);
    const hi3 = moonbitlang$core$builtin$$Add$add$7$(moonbitlang$core$builtin$$Add$add$7$(hi, hi), moonbitlang$core$builtin$$Compare$op_lt$8$(mid3, mid) ? $1L : $0L);
    const lo4 = moonbitlang$core$builtin$$Sub$sub$7$(lo3, _mul0);
    const mid4 = moonbitlang$core$builtin$$Sub$sub$7$(moonbitlang$core$builtin$$Sub$sub$7$(mid3, _mul1), moonbitlang$core$builtin$$Compare$op_lt$8$(lo3, lo4) ? $1L : $0L);
    const hi4 = moonbitlang$core$builtin$$Sub$sub$7$(hi3, moonbitlang$core$builtin$$Compare$op_lt$8$(mid3, mid4) ? $1L : $0L);
    vm = moonbitlang$core$double$internal$ryu$$shiftright128(mid4, hi4, j - 64 | 0);
  }
  const vr = moonbitlang$core$double$internal$ryu$$shiftright128(mid, hi, (j - 64 | 0) - 1 | 0);
  return { _0: vr, _1: vp, _2: vm };
}
function moonbitlang$core$double$internal$ryu$$double_computePow5(i) {
  const base = i / 26 | 0;
  const base2 = Math.imul(base, 26) | 0;
  const offset = i - base2 | 0;
  const _p = Math.imul(base, 2) | 0;
  $bound_check(moonbitlang$core$double$internal$ryu$$gDOUBLE_POW5_SPLIT2, _p);
  const mul0 = moonbitlang$core$double$internal$ryu$$gDOUBLE_POW5_SPLIT2[_p];
  const _p$2 = (Math.imul(base, 2) | 0) + 1 | 0;
  $bound_check(moonbitlang$core$double$internal$ryu$$gDOUBLE_POW5_SPLIT2, _p$2);
  const mul1 = moonbitlang$core$double$internal$ryu$$gDOUBLE_POW5_SPLIT2[_p$2];
  if (offset === 0) {
    return { _0: mul0, _1: mul1 };
  }
  $bound_check(moonbitlang$core$double$internal$ryu$$gDOUBLE_POW5_TABLE, offset);
  const m = moonbitlang$core$double$internal$ryu$$gDOUBLE_POW5_TABLE[offset];
  const _bind = moonbitlang$core$double$internal$ryu$$umul128(m, mul1);
  const _low1 = _bind._0;
  const _high1 = _bind._1;
  const _bind$2 = moonbitlang$core$double$internal$ryu$$umul128(m, mul0);
  const _low0 = _bind$2._0;
  const _high0 = _bind$2._1;
  const sum = moonbitlang$core$builtin$$Add$add$7$(_high0, _low1);
  let high1 = _high1;
  if (moonbitlang$core$builtin$$Compare$op_lt$8$(sum, _high0)) {
    high1 = moonbitlang$core$builtin$$Add$add$7$(high1, $1L);
  }
  const delta = (((Math.imul(i, 1217359) | 0) >>> 19 | 0) + 1 | 0) - (((Math.imul(base2, 1217359) | 0) >>> 19 | 0) + 1 | 0) | 0;
  const _tmp = moonbitlang$core$double$internal$ryu$$shiftright128(_low0, sum, delta);
  const _p$3 = i / 16 | 0;
  $bound_check(moonbitlang$core$double$internal$ryu$$gPOW5_OFFSETS, _p$3);
  const a = moonbitlang$core$builtin$$Add$add$7$(_tmp, moonbitlang$core$uint$$UInt$to_uint64(moonbitlang$core$double$internal$ryu$$gPOW5_OFFSETS[_p$3] >>> (i % 16 << 1) & 3));
  const b = moonbitlang$core$double$internal$ryu$$shiftright128(sum, high1, delta);
  return { _0: a, _1: b };
}
function moonbitlang$core$double$internal$ryu$$double_computeInvPow5(i) {
  const base = ((i + 26 | 0) - 1 | 0) / 26 | 0;
  const base2 = Math.imul(base, 26) | 0;
  const offset = base2 - i | 0;
  const _p = Math.imul(base, 2) | 0;
  $bound_check(moonbitlang$core$double$internal$ryu$$gDOUBLE_POW5_INV_SPLIT2, _p);
  const mul0 = moonbitlang$core$double$internal$ryu$$gDOUBLE_POW5_INV_SPLIT2[_p];
  const _p$2 = (Math.imul(base, 2) | 0) + 1 | 0;
  $bound_check(moonbitlang$core$double$internal$ryu$$gDOUBLE_POW5_INV_SPLIT2, _p$2);
  const mul1 = moonbitlang$core$double$internal$ryu$$gDOUBLE_POW5_INV_SPLIT2[_p$2];
  if (offset === 0) {
    return { _0: mul0, _1: mul1 };
  }
  $bound_check(moonbitlang$core$double$internal$ryu$$gDOUBLE_POW5_TABLE, offset);
  const m = moonbitlang$core$double$internal$ryu$$gDOUBLE_POW5_TABLE[offset];
  const _bind = moonbitlang$core$double$internal$ryu$$umul128(m, mul1);
  const _low1 = _bind._0;
  const _high1 = _bind._1;
  const _bind$2 = moonbitlang$core$double$internal$ryu$$umul128(m, mul0);
  const _low0 = _bind$2._0;
  const _high0 = _bind$2._1;
  const sum = moonbitlang$core$builtin$$Add$add$7$(_high0, _low1);
  let high1 = _high1;
  if (moonbitlang$core$builtin$$Compare$op_lt$8$(sum, _high0)) {
    high1 = moonbitlang$core$builtin$$Add$add$7$(high1, $1L);
  }
  const delta = (((Math.imul(base2, 1217359) | 0) >>> 19 | 0) + 1 | 0) - (((Math.imul(i, 1217359) | 0) >>> 19 | 0) + 1 | 0) | 0;
  const _tmp = moonbitlang$core$builtin$$Add$add$7$(moonbitlang$core$double$internal$ryu$$shiftright128(_low0, sum, delta), $1L);
  const _p$3 = i / 16 | 0;
  $bound_check(moonbitlang$core$double$internal$ryu$$gPOW5_INV_OFFSETS, _p$3);
  const a = moonbitlang$core$builtin$$Add$add$7$(_tmp, moonbitlang$core$uint$$UInt$to_uint64(moonbitlang$core$double$internal$ryu$$gPOW5_INV_OFFSETS[_p$3] >>> (i % 16 << 1) & 3));
  const b = moonbitlang$core$double$internal$ryu$$shiftright128(sum, high1, delta);
  return { _0: a, _1: b };
}
function moonbitlang$core$double$internal$ryu$$decimal_length17(v) {
  if (moonbitlang$core$builtin$$Compare$op_ge$8$(v, $10000000000000000L)) {
    return 17;
  }
  if (moonbitlang$core$builtin$$Compare$op_ge$8$(v, $1000000000000000L)) {
    return 16;
  }
  if (moonbitlang$core$builtin$$Compare$op_ge$8$(v, $100000000000000L)) {
    return 15;
  }
  if (moonbitlang$core$builtin$$Compare$op_ge$8$(v, $10000000000000L)) {
    return 14;
  }
  if (moonbitlang$core$builtin$$Compare$op_ge$8$(v, $1000000000000L)) {
    return 13;
  }
  if (moonbitlang$core$builtin$$Compare$op_ge$8$(v, $100000000000L)) {
    return 12;
  }
  if (moonbitlang$core$builtin$$Compare$op_ge$8$(v, $10000000000L)) {
    return 11;
  }
  if (moonbitlang$core$builtin$$Compare$op_ge$8$(v, $1000000000L)) {
    return 10;
  }
  if (moonbitlang$core$builtin$$Compare$op_ge$8$(v, $100000000L)) {
    return 9;
  }
  if (moonbitlang$core$builtin$$Compare$op_ge$8$(v, $10000000L)) {
    return 8;
  }
  if (moonbitlang$core$builtin$$Compare$op_ge$8$(v, $1000000L)) {
    return 7;
  }
  if (moonbitlang$core$builtin$$Compare$op_ge$8$(v, $100000L)) {
    return 6;
  }
  if (moonbitlang$core$builtin$$Compare$op_ge$8$(v, $10000L)) {
    return 5;
  }
  if (moonbitlang$core$builtin$$Compare$op_ge$8$(v, $1000L)) {
    return 4;
  }
  if (moonbitlang$core$builtin$$Compare$op_ge$8$(v, $100L)) {
    return 3;
  }
  if (moonbitlang$core$builtin$$Compare$op_ge$8$(v, $10L)) {
    return 2;
  }
  return 1;
}
function moonbitlang$core$double$internal$ryu$$d2d(ieeeMantissa, ieeeExponent) {
  let e2 = 0;
  let m2 = $0L;
  if (ieeeExponent === 0) {
    e2 = -1076;
    m2 = ieeeMantissa;
  } else {
    e2 = ((ieeeExponent - 1023 | 0) - 52 | 0) - 2 | 0;
    m2 = moonbitlang$core$builtin$$BitOr$lor$7$(moonbitlang$core$builtin$$Shl$shl$7$($1L, 52), ieeeMantissa);
  }
  const even = moonbitlang$core$builtin$$Eq$equal$7$(moonbitlang$core$builtin$$BitAnd$land$7$(m2, $1L), $0L);
  const mv = moonbitlang$core$builtin$$Mul$mul$7$($4L, m2);
  const mmShift = moonbitlang$core$builtin$$op_notequal$7$(ieeeMantissa, $0L) || ieeeExponent >>> 0 <= 1 >>> 0;
  let vr = $0L;
  let vp = $0L;
  let vm = $0L;
  let e10 = 0;
  let vmIsTrailingZeros = false;
  let vrIsTrailingZeros = false;
  if (e2 >= 0) {
    const _p = e2;
    const _tmp = (Math.imul(_p, 78913) | 0) >>> 18 | 0;
    const _p$2 = e2 > 3;
    const q = _tmp - (_p$2 ? 1 : 0) | 0;
    e10 = q;
    const k = (125 + (((Math.imul(q, 1217359) | 0) >>> 19 | 0) + 1 | 0) | 0) - 1 | 0;
    const i = ((-e2 | 0) + q | 0) + k | 0;
    const pow5 = moonbitlang$core$double$internal$ryu$$double_computeInvPow5(q);
    const _bind = moonbitlang$core$double$internal$ryu$$mulShiftAll64(m2, pow5, i, mmShift);
    const _vrOut = _bind._0;
    const _vpOut = _bind._1;
    const _vmOut = _bind._2;
    vr = _vrOut;
    vp = _vpOut;
    vm = _vmOut;
    if (q <= 21) {
      const mvMod5 = moonbitlang$core$uint64$$UInt64$to_int(mv) - (Math.imul(5, moonbitlang$core$uint64$$UInt64$to_int(moonbitlang$core$builtin$$Div$div$7$(mv, $5L))) | 0) | 0;
      if (mvMod5 === 0) {
        vrIsTrailingZeros = moonbitlang$core$double$internal$ryu$$multipleOfPowerOf5(mv, q);
      } else {
        if (even) {
          vmIsTrailingZeros = moonbitlang$core$double$internal$ryu$$multipleOfPowerOf5(moonbitlang$core$builtin$$Sub$sub$7$(moonbitlang$core$builtin$$Sub$sub$7$(mv, $1L), mmShift ? $1L : $0L), q);
        } else {
          const _tmp$2 = vp;
          const _p$3 = moonbitlang$core$double$internal$ryu$$multipleOfPowerOf5(moonbitlang$core$builtin$$Add$add$7$(mv, $2L), q);
          vp = moonbitlang$core$builtin$$Sub$sub$7$(_tmp$2, _p$3 ? $1L : $0L);
        }
      }
    }
  } else {
    const _p = -e2 | 0;
    const _tmp = (Math.imul(_p, 732923) | 0) >>> 20 | 0;
    const _p$2 = (-e2 | 0) > 1;
    const q = _tmp - (_p$2 ? 1 : 0) | 0;
    e10 = q + e2 | 0;
    const i = (-e2 | 0) - q | 0;
    const k = (((Math.imul(i, 1217359) | 0) >>> 19 | 0) + 1 | 0) - 125 | 0;
    const j = q - k | 0;
    const pow5 = moonbitlang$core$double$internal$ryu$$double_computePow5(i);
    const _bind = moonbitlang$core$double$internal$ryu$$mulShiftAll64(m2, pow5, j, mmShift);
    const _vrOut = _bind._0;
    const _vpOut = _bind._1;
    const _vmOut = _bind._2;
    vr = _vrOut;
    vp = _vpOut;
    vm = _vmOut;
    if (q <= 1) {
      vrIsTrailingZeros = true;
      if (even) {
        vmIsTrailingZeros = (mmShift ? 1 : 0) === 1;
      } else {
        vp = moonbitlang$core$builtin$$Sub$sub$7$(vp, $1L);
      }
    } else {
      if (q < 63) {
        vrIsTrailingZeros = moonbitlang$core$double$internal$ryu$$multipleOfPowerOf2(mv, q);
      }
    }
  }
  let removed = 0;
  let lastRemovedDigit = 0;
  let output = $0L;
  if (vmIsTrailingZeros || vrIsTrailingZeros) {
    while (true) {
      const vpDiv10 = moonbitlang$core$builtin$$Div$div$7$(vp, $10L);
      const vmDiv10 = moonbitlang$core$builtin$$Div$div$7$(vm, $10L);
      if (moonbitlang$core$builtin$$Compare$op_le$8$(vpDiv10, vmDiv10)) {
        break;
      }
      const vmMod10 = moonbitlang$core$uint64$$UInt64$to_int(vm) - (Math.imul(10, moonbitlang$core$uint64$$UInt64$to_int(vmDiv10)) | 0) | 0;
      const vrDiv10 = moonbitlang$core$builtin$$Div$div$7$(vr, $10L);
      const vrMod10 = moonbitlang$core$uint64$$UInt64$to_int(vr) - (Math.imul(10, moonbitlang$core$uint64$$UInt64$to_int(vrDiv10)) | 0) | 0;
      vmIsTrailingZeros = vmIsTrailingZeros && vmMod10 === 0;
      vrIsTrailingZeros = vrIsTrailingZeros && lastRemovedDigit === 0;
      lastRemovedDigit = vrMod10;
      vr = vrDiv10;
      vp = vpDiv10;
      vm = vmDiv10;
      removed = removed + 1 | 0;
      continue;
    }
    if (vmIsTrailingZeros) {
      while (true) {
        const vmDiv10 = moonbitlang$core$builtin$$Div$div$7$(vm, $10L);
        const vmMod10 = moonbitlang$core$uint64$$UInt64$to_int(vm) - (Math.imul(10, moonbitlang$core$uint64$$UInt64$to_int(vmDiv10)) | 0) | 0;
        if (vmMod10 !== 0) {
          break;
        }
        const vpDiv10 = moonbitlang$core$builtin$$Div$div$7$(vp, $10L);
        const vrDiv10 = moonbitlang$core$builtin$$Div$div$7$(vr, $10L);
        const vrMod10 = moonbitlang$core$uint64$$UInt64$to_int(vr) - (Math.imul(10, moonbitlang$core$uint64$$UInt64$to_int(vrDiv10)) | 0) | 0;
        vrIsTrailingZeros = vrIsTrailingZeros && lastRemovedDigit === 0;
        lastRemovedDigit = vrMod10;
        vr = vrDiv10;
        vp = vpDiv10;
        vm = vmDiv10;
        removed = removed + 1 | 0;
        continue;
      }
    }
    if (vrIsTrailingZeros && (lastRemovedDigit === 5 && moonbitlang$core$builtin$$Eq$equal$7$(moonbitlang$core$builtin$$Mod$mod$7$(vr, $2L), $0L))) {
      lastRemovedDigit = 4;
    }
    const _tmp = vr;
    const _p = moonbitlang$core$builtin$$Eq$equal$7$(vr, vm) && (!even || !vmIsTrailingZeros) || lastRemovedDigit >= 5;
    output = moonbitlang$core$builtin$$Add$add$7$(_tmp, _p ? $1L : $0L);
  } else {
    let roundUp = false;
    const vpDiv100 = moonbitlang$core$builtin$$Div$div$7$(vp, $100L);
    const vmDiv100 = moonbitlang$core$builtin$$Div$div$7$(vm, $100L);
    if (moonbitlang$core$builtin$$Compare$op_gt$8$(vpDiv100, vmDiv100)) {
      const vrDiv100 = moonbitlang$core$builtin$$Div$div$7$(vr, $100L);
      const vrMod100 = moonbitlang$core$uint64$$UInt64$to_int(vr) - (Math.imul(100, moonbitlang$core$uint64$$UInt64$to_int(vrDiv100)) | 0) | 0;
      roundUp = vrMod100 >= 50;
      vr = vrDiv100;
      vp = vpDiv100;
      vm = vmDiv100;
      removed = removed + 2 | 0;
    }
    while (true) {
      const vpDiv10 = moonbitlang$core$builtin$$Div$div$7$(vp, $10L);
      const vmDiv10 = moonbitlang$core$builtin$$Div$div$7$(vm, $10L);
      if (moonbitlang$core$builtin$$Compare$op_le$8$(vpDiv10, vmDiv10)) {
        break;
      }
      const vrDiv10 = moonbitlang$core$builtin$$Div$div$7$(vr, $10L);
      const vrMod10 = moonbitlang$core$uint64$$UInt64$to_int(vr) - (Math.imul(10, moonbitlang$core$uint64$$UInt64$to_int(vrDiv10)) | 0) | 0;
      roundUp = vrMod10 >= 5;
      vr = vrDiv10;
      vp = vpDiv10;
      vm = vmDiv10;
      removed = removed + 1 | 0;
      continue;
    }
    const _tmp = vr;
    const _p = moonbitlang$core$builtin$$Eq$equal$7$(vr, vm) || roundUp;
    output = moonbitlang$core$builtin$$Add$add$7$(_tmp, _p ? $1L : $0L);
  }
  const exp = e10 + removed | 0;
  return { mantissa: output, exponent: exp };
}
function moonbitlang$core$double$internal$ryu$$to_chars(v, sign) {
  const result = $makebytes(25, 0);
  let index = 0;
  if (sign) {
    const _tmp = index;
    $bound_check(result, _tmp);
    result[_tmp] = 45;
    index = index + 1 | 0;
  }
  let output = v.mantissa;
  const olength = moonbitlang$core$double$internal$ryu$$decimal_length17(output);
  let exp = (v.exponent + olength | 0) - 1 | 0;
  const scientificNotation = !(exp >= -6 && exp < 21);
  if (scientificNotation) {
    const _end41 = olength - 1 | 0;
    let _tmp = 0;
    while (true) {
      const i = _tmp;
      if (i < _end41) {
        const c = moonbitlang$core$builtin$$Mod$mod$7$(output, $10L);
        output = moonbitlang$core$builtin$$Div$div$7$(output, $10L);
        const _tmp$2 = (index + olength | 0) - i | 0;
        $bound_check(result, _tmp$2);
        result[_tmp$2] = (48 + moonbitlang$core$uint64$$UInt64$to_int(c) | 0) & 255;
        _tmp = i + 1 | 0;
        continue;
      } else {
        break;
      }
    }
    const _tmp$2 = index;
    $bound_check(result, _tmp$2);
    result[_tmp$2] = (48 + (moonbitlang$core$uint64$$UInt64$to_int(output) % 10 | 0) | 0) & 255;
    if (olength > 1) {
      const _tmp$3 = index + 1 | 0;
      $bound_check(result, _tmp$3);
      result[_tmp$3] = 46;
    } else {
      index = index - 1 | 0;
    }
    index = index + (olength + 1 | 0) | 0;
    const _tmp$3 = index;
    $bound_check(result, _tmp$3);
    result[_tmp$3] = 101;
    index = index + 1 | 0;
    if (exp < 0) {
      const _tmp$4 = index;
      $bound_check(result, _tmp$4);
      result[_tmp$4] = 45;
      index = index + 1 | 0;
      exp = -exp | 0;
    } else {
      const _tmp$4 = index;
      $bound_check(result, _tmp$4);
      result[_tmp$4] = 43;
      index = index + 1 | 0;
    }
    if (exp >= 100) {
      const a = exp / 100 | 0;
      const b = (exp / 10 | 0) % 10 | 0;
      const c = exp % 10 | 0;
      const _tmp$4 = index;
      $bound_check(result, _tmp$4);
      result[_tmp$4] = (48 + a | 0) & 255;
      const _tmp$5 = index + 1 | 0;
      $bound_check(result, _tmp$5);
      result[_tmp$5] = (48 + b | 0) & 255;
      const _tmp$6 = index + 2 | 0;
      $bound_check(result, _tmp$6);
      result[_tmp$6] = (48 + c | 0) & 255;
      index = index + 3 | 0;
    } else {
      if (exp >= 10) {
        const a = exp / 10 | 0;
        const b = exp % 10 | 0;
        const _tmp$4 = index;
        $bound_check(result, _tmp$4);
        result[_tmp$4] = (48 + a | 0) & 255;
        const _tmp$5 = index + 1 | 0;
        $bound_check(result, _tmp$5);
        result[_tmp$5] = (48 + b | 0) & 255;
        index = index + 2 | 0;
      } else {
        const _tmp$4 = index;
        $bound_check(result, _tmp$4);
        result[_tmp$4] = (48 + exp | 0) & 255;
        index = index + 1 | 0;
      }
    }
    return moonbitlang$core$double$internal$ryu$$string_from_bytes(result, 0, index);
  } else {
    if (exp < 0) {
      const _tmp = index;
      $bound_check(result, _tmp);
      result[_tmp] = 48;
      index = index + 1 | 0;
      const _tmp$2 = index;
      $bound_check(result, _tmp$2);
      result[_tmp$2] = 46;
      index = index + 1 | 0;
      let _tmp$3 = -1;
      while (true) {
        const i = _tmp$3;
        if (i > exp) {
          const _tmp$4 = index;
          $bound_check(result, _tmp$4);
          result[_tmp$4] = 48;
          index = index + 1 | 0;
          _tmp$3 = i - 1 | 0;
          continue;
        } else {
          break;
        }
      }
      const current = index;
      let _tmp$4 = 0;
      while (true) {
        const i = _tmp$4;
        if (i < olength) {
          const _tmp$5 = ((current + olength | 0) - i | 0) - 1 | 0;
          $bound_check(result, _tmp$5);
          result[_tmp$5] = (48 + moonbitlang$core$uint64$$UInt64$to_int(moonbitlang$core$builtin$$Mod$mod$7$(output, $10L)) | 0) & 255;
          output = moonbitlang$core$builtin$$Div$div$7$(output, $10L);
          index = index + 1 | 0;
          _tmp$4 = i + 1 | 0;
          continue;
        } else {
          break;
        }
      }
    } else {
      if ((exp + 1 | 0) >= olength) {
        let _tmp = 0;
        while (true) {
          const i = _tmp;
          if (i < olength) {
            const _tmp$2 = ((index + olength | 0) - i | 0) - 1 | 0;
            $bound_check(result, _tmp$2);
            result[_tmp$2] = (48 + moonbitlang$core$uint64$$UInt64$to_int(moonbitlang$core$builtin$$Mod$mod$7$(output, $10L)) | 0) & 255;
            output = moonbitlang$core$builtin$$Div$div$7$(output, $10L);
            _tmp = i + 1 | 0;
            continue;
          } else {
            break;
          }
        }
        index = index + olength | 0;
        const _end64 = exp + 1 | 0;
        let _tmp$2 = olength;
        while (true) {
          const i = _tmp$2;
          if (i < _end64) {
            const _tmp$3 = index;
            $bound_check(result, _tmp$3);
            result[_tmp$3] = 48;
            index = index + 1 | 0;
            _tmp$2 = i + 1 | 0;
            continue;
          } else {
            break;
          }
        }
      } else {
        let current = index + 1 | 0;
        let _tmp = 0;
        while (true) {
          const i = _tmp;
          if (i < olength) {
            if (((olength - i | 0) - 1 | 0) === exp) {
              const _tmp$2 = ((current + olength | 0) - i | 0) - 1 | 0;
              $bound_check(result, _tmp$2);
              result[_tmp$2] = 46;
              current = current - 1 | 0;
            }
            const _tmp$2 = ((current + olength | 0) - i | 0) - 1 | 0;
            $bound_check(result, _tmp$2);
            result[_tmp$2] = (48 + moonbitlang$core$uint64$$UInt64$to_int(moonbitlang$core$builtin$$Mod$mod$7$(output, $10L)) | 0) & 255;
            output = moonbitlang$core$builtin$$Div$div$7$(output, $10L);
            _tmp = i + 1 | 0;
            continue;
          } else {
            break;
          }
        }
        index = index + (olength + 1 | 0) | 0;
      }
    }
    return moonbitlang$core$double$internal$ryu$$string_from_bytes(result, 0, index);
  }
}
function moonbitlang$core$double$internal$ryu$$d2d_small_int(ieeeMantissa, ieeeExponent) {
  const m2 = moonbitlang$core$builtin$$BitOr$lor$7$(moonbitlang$core$builtin$$Shl$shl$7$($1L, 52), ieeeMantissa);
  const e2 = (ieeeExponent - 1023 | 0) - 52 | 0;
  if (e2 > 0) {
    return undefined;
  }
  if (e2 < -52) {
    return undefined;
  }
  const mask = moonbitlang$core$builtin$$Sub$sub$7$(moonbitlang$core$builtin$$Shl$shl$7$($1L, -e2 | 0), $1L);
  const fraction = moonbitlang$core$builtin$$BitAnd$land$7$(m2, mask);
  if (moonbitlang$core$builtin$$op_notequal$7$(fraction, $0L)) {
    return undefined;
  }
  return { mantissa: moonbitlang$core$builtin$$Shr$shr$7$(m2, -e2 | 0), exponent: 0 };
}
function moonbitlang$core$double$internal$ryu$$ryu_to_string(val) {
  if (val === 0) {
    return "0";
  }
  const bits = moonbitlang$core$double$$Double$reinterpret_as_uint64(val);
  const ieeeSign = moonbitlang$core$builtin$$op_notequal$7$(moonbitlang$core$builtin$$BitAnd$land$7$(moonbitlang$core$builtin$$Shr$shr$7$(bits, 63), $1L), $0L);
  const ieeeMantissa = moonbitlang$core$builtin$$BitAnd$land$7$(bits, moonbitlang$core$builtin$$Sub$sub$7$(moonbitlang$core$builtin$$Shl$shl$7$($1L, 52), $1L));
  const ieeeExponent = moonbitlang$core$uint64$$UInt64$to_int(moonbitlang$core$builtin$$BitAnd$land$7$(moonbitlang$core$builtin$$Shr$shr$7$(bits, 52), moonbitlang$core$builtin$$Sub$sub$7$(moonbitlang$core$builtin$$Shl$shl$7$($1L, 11), $1L)));
  if (ieeeExponent === 2047 || ieeeExponent === 0 && moonbitlang$core$builtin$$Eq$equal$7$(ieeeMantissa, $0L)) {
    return moonbitlang$core$double$internal$ryu$$copy_special_str(ieeeSign, ieeeExponent !== 0, moonbitlang$core$builtin$$op_notequal$7$(ieeeMantissa, $0L));
  }
  let v = moonbitlang$core$double$internal$ryu$$ryu_to_string$46$record$47$567;
  const small = moonbitlang$core$double$internal$ryu$$d2d_small_int(ieeeMantissa, ieeeExponent);
  if (small === undefined) {
    v = moonbitlang$core$double$internal$ryu$$d2d(ieeeMantissa, ieeeExponent);
  } else {
    const _Some = small;
    const _f = _Some;
    let x = _f;
    while (true) {
      const q = moonbitlang$core$builtin$$Div$div$7$(x.mantissa, $10L);
      const r = moonbitlang$core$builtin$$Sub$sub$7$(x.mantissa, moonbitlang$core$builtin$$Mul$mul$7$($10L, q));
      if (moonbitlang$core$builtin$$op_notequal$7$(r, $0L)) {
        break;
      }
      x = { mantissa: q, exponent: x.exponent + 1 | 0 };
      continue;
    }
    v = x;
  }
  return moonbitlang$core$double$internal$ryu$$to_chars(v, ieeeSign);
}
function moonbitlang$core$double$$Double$to_string(self) {
  return moonbitlang$core$double$internal$ryu$$ryu_to_string(self);
}
function moonbitlang$core$builtin$$Show$output$10$(self, logger) {
  logger.method_table.method_0(logger.self, moonbitlang$core$double$$Double$to_string(self));
}
function username$moonbit_examples$cmd$enums$$area(shape) {
  if (shape.$tag === 0) {
    const _Circle = shape;
    const _r = _Circle._0;
    return 3.14159 * _r * _r;
  } else {
    const _Rectangle = shape;
    const _w = _Rectangle._0;
    const _h = _Rectangle._1;
    return _w * _h;
  }
}
(() => {
  moonbitlang$core$builtin$$println$13$(`Area of circle: ${moonbitlang$core$builtin$$Show$to_string$9$(username$moonbit_examples$cmd$enums$$area(username$moonbit_examples$cmd$enums$$_main$46$c$47$590))}`);
  moonbitlang$core$builtin$$println$13$(`Area of rectangle: ${moonbitlang$core$builtin$$Show$to_string$9$(username$moonbit_examples$cmd$enums$$area(username$moonbit_examples$cmd$enums$$_main$46$r$47$591))}`);
})();
